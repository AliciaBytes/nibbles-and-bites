---
const {
  caption,
  class: className,
  fallbackFormat = "webp",
  formats = ["avif"],
  height,
  quality = "mid",
  src,
  width,
  ...rest
} = Astro.props;

import { Picture } from "astro:assets";
---

<figure>
  <Picture
    alt=""
    {fallbackFormat}
    {formats}
    {height}
    {quality}
    {src}
    {width}
    {...rest}
  />
  <figcaption>{caption}</figcaption>
</figure>

<style>
  @layer nb.component {
    figure {
      margin: 6px 0;
      display: grid;
      justify-items: center;
    }

    figcaption {
      width: 100%;
      padding: 0 2.5%;
      text-align: center;
      color: var(--color-subtext1);
    }
  }
</style>
